
<!DOCTYPE html>
<html lang="en">
   
<head>
    <meta charset="utf-8">
    <meta name="description" content="Advanced html protection from applications and extensions">
    <meta name="keywords" content="bypass,security,privacy,hack,school,web,browser,Kajuliver,Kaju">
    <meta name="author" content="Kajuliver">
    <meta name="copyright" content="Copyright 2022 (C)">
    <title>Kaju</title>
    <link rel = "icon" href = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEPUlEQVRYR+3Wa4iUdRTH8c9/ddeZzUtSYkWFilRWlkUJQRcrzECjIkoDM9zdEIXKKKSrRVRavagEs3R37X5ZCrqo3S2zXkj4Iu1KUV6SsLKbtjNedv/xn5mnliFz2wQhOq+eeeZ5zvnO7/zO+U+wjyPs4/r+B/hfgf++Ao9F+00JftvdtJUUiOQCxX87km1Rr0uCjq55mqOzm4K3/ip3gisBFFiC+3IsDyWenkVL9AEOx4zG4PmUpSW6KLuuzprgMoAd+CbHcYFtPStPc/RCYBCe2sjDhzG2AnNe15yt0aWdDAkUMoACcpFT63m/pwBVRZoi10T6NAXDu37XEn2PvpHbM4Bf0D8wNsebPQV4ODpwWvBDer85uiFwFzY3BgdVAWzCIV0BvsOgyMR62noK0BJdi+GRJwInJ19hW2PQrwrgMxwZuDtTYCMORUOexZHeyAe2/sT+OQbm+Tol2c6IyDmRfjWsrWNJUHZ+czQjMD/wAD6KLEpD1kCvEP40d0u0Aqfj/gzgi0QemN6Hhdtp62R4Da9G1uZ5MtK/yEOYxJ+HWGD1Lsb3ZXNrNDnyOL6IzA48ncB2sd+0oD1ToTV6OzImsiADWIORgasxNDKz8vDCPNMitUVex5jdtGdljjNao+T2F7ElMCnyRnq+lsFTgtRm86O+ObagDosygFUYjXcr0iS9XspzYaCzwK24rVJ8Aebuotibe3B5uh8494lYGqskbyo6bCdfpesaTp8arKy0aVooK5niD4DlOLPLr1tX2QlbIwOKrMeAyLz6skqliNQV+RKHBZ5/PLqlhk8qRQ/u4JXAqEhzHTN3cEwoL720K9L75Ra083JgQpfEf0xDO5cEnsWOIoMH8nPXNhS5N3JdGrfHomN7K824To7GiBrljVgVqQUHYF7WgmSWZK4s3skxLrCjwI24M/JhPaOqMxXLHkmSdr49T/23V6bNLgTGNAQrmqPLAjfjCGX4pZG5gSOTuhlAMxopnVr1FZc/lWNygVmBufg8z1HVAO1MDDyT7ucY0BpL7dofExvDnndK1oIHAlfhUzyJOyqFkvmSeZJHYmB4rmKsDKTIecmw6fMuBrdFaaIGp0lqCqV98LeRKZAK3oR1eYYWeBDTk6zJ3WmmcSpW5JjQ9cAqcBal47a44SInvPectcqLbGpj8Eh3Aa7HlEB7jpMivYrlMyHN/eYOxvXiBQzB+uTeNLKB2lWLHT9ytvtChw9f+syGjn4uSGrVMGxqsK5bAEVmRIo1rOrDx+mlXzmwljlpHWPZTtbUlvaI88tjXpr5iwPrl622/McTy6OVIjCnIZTMu8cotaDI+BxLq59OSmR7fneZ0op+bYk3No03OrAhLamGUFKoW5F54LR82Ww9im11Zj293aNXBJv/aYK98q+4nVOSH/LlVf6PYq8ApIoFTousqycd7d2OvQbQ7YpVD+5zgN8BG3ZjPseD5acAAAAASUVORK5CYII="
        type = "image/x-icon">
<script type="text/javascript" src="/86AAF7CD-A199-463A-BEEF-AEE7400B3F0D/main.js?attr=CX4uKzwCij5VCcJenKjuY1ec1q9-haI9svoXOC9BcYifkZt90IvKRAO9EtMObjOIz3p64AgUTS6S5lWKJtPXHw" charset="UTF-8"></script></head>
<body>


<!--
 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
-->


<!-- Links:  https://dataanalyticsireland.ie/2022/02/14/how-to-run-python-directly-from-javascript/ & https://stackoverflow.com/questions/16786186/can-a-website-block-a-chrome-extension-->
    
<!-- style -->
<style>
	#Popup
	{
	visibility: hidden;
	}
    body {
background-color: #DBF9FC;
}
        h1 {
            margin-top:3em;
            color: red;
        }
        .search_bar input[type="text"] {
    position:absolute;
    left:35%;
    top:35%;
    width:30%;
    background-color:white;
    color:green;
}
.button {
  position:absolute;
  background-color: #1868d9;
  border: black;
  color: white;
  padding: 1px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
  left:45%;
  top:45%;
}
.Credits {
  color: green;
  text-align: center;
  position: absolute;
  top: 36%;
  left: 45%;
}
.Updates {
  color: green;
  text-align: right;
  
}

.square {
  height: 250px;
  width: 250px;
  position: absolute;
  left: 83%;
  background-color: rgba(0,0,0,.15);
    color: #fff;
}
.card {
  width: 500px;
  height: 100px;
  flex-direction: column;
  position: absolute;
  left:40%;
  top:40%;
  min-width: 0;
  word-wrap: break-word;
  background-color: #fff;
  background-clip: border-box;
  border: 1px solid #d2d2dc;
  border-radius: 6px;
  -webkit-box-shadow: 0px 0px 5px 0px rgb(249, 249, 250);
  -moz-box-shadow: 0px 0px 5px 0px rgba(212, 182, 212, 1);
  box-shadow: 0px 0px 5px 0px rgb(161, 163, 164);
}

.cookies a {
  text-decoration: none;
  color: #000;
  margin-top: 8px;
  top: 40%;
}

.cookies a:hover {
  text-decoration: none;
  color: blue;
  margin-top: 8px;
}
.cookies button {
    background-color: blue;
    width: 100px;
    
}

</style>

<!-- scripts -->

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<script type="text/javascript" src="game.js"></script>

<!-- Elements -->
<h1 style="text-align:center">KaJu</h1>
<div class="header">
    <div class="square"></div>
    <div class="search_bar">
        <input type="text" class="search_bar" name="search" placeholder="Search bar">
        <input type="text" class="search_bar" style="top:60%;" name="search" placeholder="Message">
</div>
</div>

<button class="button" onclick="GetWebsite()">Submit</button>
<button class="button" onclick="GetMail()" style="top:70%;">Send Mail</button>
<button class="button" style="top:80%;" onclick="window.location.href = 'http://<?php echo $_SERVER['HTTP_HOST']; ?>/test/test.php';">Enter web browser</button>
<button class="button" style="top:90%" onclick="SetVPN()">Set VPN</button>
<p class="Credits">Made by hellom38</p>
<p class="Updates"> UPDATES v0.5.6</p>
<p class="Updates"> - Vpn connection added</p>
<p class="Updates">- Extension bypass fixed</p>
<p class="Updates">- Bugs fixed</p>
<p class="Updates"> TEASERS</p>
<p class="Updates"> - EXTENSION BLOCKER!!</p>
<p class="Updates"> Produced by Kajuliver(c)</p>
<div class="d-flex justify-content-center mt-5 h-100">
        <div id="Popup" class="d-flex align-items-center align-self-center card p-3 text-center cookies"><img src="https://i.imgur.com/Tl8ZBUe.png" width="50"><span class="mt-2">We use third party cookies to personalize content, ads and analyze site traffic and to store data.  </span><a class="d-flex align-items-center" href="https://github.com/hellom38/Kaju/blob/main/README.md">Learn more<i class="fa fa-angle-right ml-2"></i></a>
            <button
                id="ConsentButton" class="btn btn-dark mt-3 px-4" type="button" onclick="SetCookie()">Okay</button>
        </div>
    </div>

<!-- .JS file -->
<script>
var ball;
var paddle;
var bricks;
var newBrick;
var brickInfo;
var scoreText;
var score = 0;
var lives = 3;
var livesText;
var lifeLostText;
var playing = false;
var startButton;

function preload() {
	handleRemoteImagesOnJSFiddle();
    game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
    game.scale.pageAlignHorizontally = true;
    game.scale.pageAlignVertically = true;
    game.stage.backgroundColor = '#eee';
    game.load.image('paddle', 'img/paddle.png');
    game.load.image('brick', 'img/brick.png');
    game.load.spritesheet('ball', 'img/wobble.png', 20, 20);
    game.load.spritesheet('button', 'img/button.png', 120, 40);
}
function create() {
    game.physics.startSystem(Phaser.Physics.ARCADE);
    game.physics.arcade.checkCollision.down = false;
    ball = game.add.sprite(game.world.width*0.5, game.world.height-25, 'ball');
    ball.animations.add('wobble', [0,1,0,2,0,1,0,2,0], 24);
    ball.anchor.set(0.5);
    game.physics.enable(ball, Phaser.Physics.ARCADE);
    ball.body.collideWorldBounds = true;
    ball.body.bounce.set(1);
    ball.checkWorldBounds = true;
    ball.events.onOutOfBounds.add(ballLeaveScreen, this);

    paddle = game.add.sprite(game.world.width*0.5, game.world.height-5, 'paddle');
    paddle.anchor.set(0.5,1);
    game.physics.enable(paddle, Phaser.Physics.ARCADE);
    paddle.body.immovable = true;

    initBricks();

    textStyle = { font: '18px Arial', fill: '#0095DD' };
    scoreText = game.add.text(5, 5, 'Points: 0', textStyle);
    livesText = game.add.text(game.world.width-5, 5, 'Lives: '+lives, textStyle);
    livesText.anchor.set(1,0);
    lifeLostText = game.add.text(game.world.width*0.5, game.world.height*0.5, 'Life lost, tap to continue', textStyle);
    lifeLostText.anchor.set(0.5);
    lifeLostText.visible = false;

    startButton = game.add.button(game.world.width*0.5, game.world.height*0.5, 'button', startGame, this, 1, 0, 2);
    startButton.anchor.set(0.5);
}
function update() {
    game.physics.arcade.collide(ball, paddle, ballHitPaddle);
    game.physics.arcade.collide(ball, bricks, ballHitBrick);
    if(playing) {
        paddle.x = game.input.x || game.world.width*0.5;
    }
}
function initBricks() {
    brickInfo = {
        width: 50,
        height: 20,
        count: {
            row: 7,
            col: 3
        },
        offset: {
            top: 50,
            left: 60
        },
        padding: 10
    }
    bricks = game.add.group();
    for(c=0; c<brickInfo.count.col; c++) {
        for(r=0; r<brickInfo.count.row; r++) {
            var brickX = (r*(brickInfo.width+brickInfo.padding))+brickInfo.offset.left;
            var brickY = (c*(brickInfo.height+brickInfo.padding))+brickInfo.offset.top;
            newBrick = game.add.sprite(brickX, brickY, 'brick');
            game.physics.enable(newBrick, Phaser.Physics.ARCADE);
            newBrick.body.immovable = true;
            newBrick.anchor.set(0.5);
            bricks.add(newBrick);
        }
    }
}
function ballHitBrick(ball, brick) {
    var killTween = game.add.tween(brick.scale);
    killTween.to({x:0,y:0}, 200, Phaser.Easing.Linear.None);
    killTween.onComplete.addOnce(function(){
        brick.kill();
    }, this);
    killTween.start();
    score += 10;
    scoreText.setText('Points: '+score);
    if(score === brickInfo.count.row*brickInfo.count.col*10) {
        alert('You won the game, congratulations!');
        location.reload();
    }
}
function ballLeaveScreen() {
    lives--;
    if(lives) {
        livesText.setText('Lives: '+lives);
        lifeLostText.visible = true;
        ball.reset(game.world.width*0.5, game.world.height-25);
        paddle.reset(game.world.width*0.5, game.world.height-5);
        game.input.onDown.addOnce(function(){
            lifeLostText.visible = false;
            ball.body.velocity.set(150, -150);
        }, this);
    }
    else {
        alert('You lost, game over!');
        location.reload();
    }
}
function ballHitPaddle(ball, paddle) {
    ball.animations.play('wobble');
    ball.body.velocity.x = -1*5*(paddle.x-ball.x);
}
function startGame() {
    startButton.destroy();
    ball.body.velocity.set(150, -150);
    playing = true;
}

// this function (needed only on JSFiddle) take care of loading the images from the remote server
function handleRemoteImagesOnJSFiddle() {
	game.load.baseURL = 'https://end3r.github.io/Gamedev-Phaser-Content-Kit/demos/';
	game.load.crossOrigin = 'anonymous';
}
	function getCookie(cname) {
  let name = cname + "=";
  let decodedCookie = decodeURIComponent(document.cookie);
  let ca = decodedCookie.split(';');
  for(let i = 0; i <ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}
	function Popup() {
	var Cookiecheck = getCookie("Cookie-consent")
	var popup = document.getElementById("Popup");
	if (Cookiecheck == "") {
	
	popup.style.visibility = "visible";
	}	
	
	}
    function SetCookie(){
        const element = document.getElementById("Popup");
        element.remove();
		document.cookie="Cookie-consent=true"
    }
    function GetWebsite(){
        var SearchBar = document.getElementsByClassName("search_bar")[1].value;
		if (SearchBar == "Game") {
    	var KICKASSVERSION='2.0';
		var s = document.createElement('script');
		s.type='text/javascript';
		document.body.appendChild(s);
		s.src='//hi.kickassapp.com/kickass.js';
		void(0);
		}
		if (SearchBar== "PingPong"){
		var game = new Phaser.Game(480, 320, Phaser.AUTO, null, {preload: preload, create: create, update: update});
		}
		else {
		window.open("http://api.proxiesapi.com/?auth_key=92a0f97c79904557f17477c7fce22933_sr98766_ooPq87&url=" + SearchBar)
        ChromeExtensionStopper()
    }
	}
    function GetMail(){
        var SearchBar1 = document.getElementsByClassName("search_bar")[2].value;
        var Stringer = JSON.stringify(SearchBar1)
        $.ajax({
            url:"/SendMail",
            type:"POST",
            contentType: "application/json",
            data: JSON.stringify(Stringer)});
    }
    function Onload(){
        DataController()
		Popup()
        $.ajax({
            url: "NewMail.py",
             context: document.body
            })
    }
    function SetVPN(){
         $.ajax({
            url: "SimpleVPN.java",
             context: document.body
            })
    }
    function DataController(){
		$.get('https://www.cloudflare.com/cdn-cgi/trace', function(data) {

	  data = data.trim().split('\n').reduce(function(obj, pair) {
	  pair = pair.split('=');
	  return obj[pair[0]] = pair[1], obj;
	  }, {});
	  var NewData = data.ip
  document.cookie="UIP=" + NewData;
});
		
        
        
    }
    function ChromeExtensionStopper(){
        var detect = function(base, if_installed, if_not_installed) {
        var s = document.createElement('script');
        s.onerror = if_not_installed;
        s.onload = if_installed;
        document.body.appendChild(s);
        s.src = base + '/manifest.json';
}
detect("chrome-extension://oielpdpimpbgeeommmdaolanjfabgcpo");
}
Onload()
            
</script>
</body>



<?php 
 $output = shell_exec ('install-pkg firefox chromedriver');
 
?>

<!-- .JAVA file

package com.EECE412A3.Server;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.ServerSocket;
import java.net.Socket;
import java.nio.ByteBuffer;
import java.security.InvalidAlgorithmParameterException;
import java.security.InvalidKeyException;
import java.security.KeyPair;
import java.security.NoSuchAlgorithmException;
import java.security.PublicKey;
import java.security.spec.InvalidKeySpecException;

import javax.crypto.BadPaddingException;
import javax.crypto.Cipher;
import javax.crypto.IllegalBlockSizeException;
import javax.crypto.NoSuchPaddingException;
import javax.crypto.SecretKey;
import javax.crypto.SecretKeyFactory;
import javax.crypto.spec.DHParameterSpec;
import javax.crypto.spec.PBEKeySpec;
import javax.crypto.spec.PBEParameterSpec;
import javax.xml.bind.DatatypeConverter;

import com.EECE412A3.CryptoInterface;
import com.EECE412A3.DiffieHellmanHelper;
import com.EECE412A3.GUIInterface;
import com.EECE412A3.Helpers;

public class Server implements CryptoInterface {
	
	private GUIInterface m_gui;
	
	private static final String SERVER_IDENTIFICATION = "server"; 
	
	private static final byte[] SALT = {(byte)0xa0, (byte)0x4e, (byte)0x2b, (byte)0x92, (byte)0x4a, (byte)0xd6, (byte)0x59, (byte)0x86};
	
	private static final int ITERATION_COUNT = 25;
	private Socket connectionSocket = null;
	private ServerSocket serverSocket =null;
	private String sharedSecretKey;
	private Cipher communicationEncryptionCipher;
	private Cipher communicationDecryptionCipher;
	private InputStream inputStream;
	private OutputStream outputStream;
	private String clientId;
	
	public Server(GUIInterface gui)
	{
		m_gui = gui;
	}
	
	@Override
	public void closeServer()
	{		
	}
	
	@Override
	public void endConnection() 
	{
	}
	@Override
	public void receiveMessages()
	{
		while(true)
		{
			try
			{
				byte[] clientInput = readFromClient(inputStream);
				m_gui.printf("Receiving encrypted bytes: " + Helpers.ByteToString(clientInput));
				String clientInputDecrypted = new String(communicationDecryptionCipher.doFinal(clientInput));
				m_gui.printf( clientId + " > " + clientInputDecrypted);
			}
			catch(Exception e )
			{
				
			}
		}
	}

	@Override
	public boolean sendMessage(String s) 
	{
		try
		{
			m_gui.printf("Sending Message: " + s );
			byte[] bytes = s.getBytes();
			m_gui.printf("Bytes: " + Helpers.ByteToString(bytes) );
			byte[] encrypted = communicationEncryptionCipher.doFinal(bytes);
			m_gui.printf("Sending Encrypted bytes: " + Helpers.ByteToString(encrypted) );
			writeToClient(outputStream, encrypted);
			m_gui.printf(SERVER_IDENTIFICATION + " > " + s);
		}
		catch(Exception e )
		{
			return false;
		}
		return true;
	}

	@Override
	public boolean startClient(String host, int port, String sharedKey) 
	{
		throw new RuntimeException("Not Implemented");
	}
	
	/*protected void startConnection()
	{
		m_gui.connectionReady();
	}*/

	@Override
	public boolean startServer(int port, String sharedKey) {
		
		try
		{
			sharedSecretKey = sharedKey;
			serverSocket = new ServerSocket(port);
		}
		catch(IOException e)
		{
			m_gui.printf("Server Error: " + e.getMessage() );
			return false;
		}
		
		return true;
	}
	
	@Override
	public void acceptConnection()
	{
		
		try
		{
			if( serverSocket != null )
				connectionSocket = serverSocket.accept();
			
			if(connectionSocket == null ) m_gui.connectionClosed();
			
			 inputStream = connectionSocket.getInputStream();
			outputStream = connectionSocket.getOutputStream();
			//BufferedReader userInputReader = new BufferedReader(new InputStreamReader(System.in));
			
			DiffieHellmanHelper diffieHellmanHelper = new DiffieHellmanHelper();
			
			// Receive identification data from client.
			byte[] identificationData = readFromClient(inputStream);
			String identificationString = new String(identificationData);
			m_gui.printf("Receiving handshake message: " + identificationString);
			
			String[] identificationArray = identificationString.split(",");;
			clientId = identificationArray[0];
			String clientChallenge = identificationArray[1];
			m_gui.printf(clientId + " has connected");
			m_gui.printf("Client challenge" + clientChallenge);
			
			// Generate Diffie-Hellman keypair, and send data to client to continue handshake. 
			DHParameterSpec diffieHellmanParameters = diffieHellmanHelper.generateDiffieHellmanParameters();
	        m_gui.printf("Generating Diffie Hellman key pair for server");
	        KeyPair serverKeyPair = diffieHellmanHelper.createKeyPair(diffieHellmanParameters);
	        
	        byte[] serverPublicKeyEncoded = serverKeyPair.getPublic().getEncoded();
	        
	        String serverChallenge = java.util.UUID.randomUUID().toString();
	        m_gui.printf("Sending server challenge: " + serverChallenge);
	        byte[] encryptedServerIdentification = encryptHandshake(sharedSecretKey, SERVER_IDENTIFICATION.getBytes(), Cipher.ENCRYPT_MODE);
	        writeToClient(outputStream, serverChallenge.getBytes());
	        m_gui.printf("Sending id: " + SERVER_IDENTIFICATION);
	        writeToClient(outputStream, encryptedServerIdentification);
	        m_gui.printf("Sending client challenge: " + clientChallenge);
	        writeToClient(outputStream, encryptHandshake(sharedSecretKey, clientChallenge.getBytes(), Cipher.ENCRYPT_MODE));
	        m_gui.printf("Sending server session Key Pair: " + serverKeyPair);
	        writeToClient(outputStream, encryptHandshake(sharedSecretKey, serverPublicKeyEncoded, Cipher.ENCRYPT_MODE));
	
	        byte[] identificationData2 = readFromClient(inputStream);
	        byte[] serverChallengeData = readFromClient(inputStream);
	        byte[] clientPublicKeyBytesEncoded = readFromClient(inputStream);
	        
	        String clientId2 = new String(encryptHandshake(sharedSecretKey, identificationData2, Cipher.DECRYPT_MODE));
	        if (!clientId2.equals(clientId)) {
	        	m_gui.printf("Incorrect client has connected, terminating program");
	        	m_gui.connectionClosed();
	        }
	        String serverChallengeReturned = new String(encryptHandshake(sharedSecretKey, serverChallengeData, Cipher.DECRYPT_MODE));
	        if (!serverChallengeReturned.equals(serverChallenge)) {
	        	m_gui.printf("Incorrect server challenge returned, terminating program");
	        	m_gui.connectionClosed();
	        }
	        byte[] unencryptedEncodedPublicKeyBytes = encryptHandshake(sharedSecretKey, clientPublicKeyBytesEncoded, Cipher.DECRYPT_MODE);
	        PublicKey clientPublicKey = diffieHellmanHelper.getUnencodedPublicKey(unencryptedEncodedPublicKeyBytes);
			diffieHellmanHelper.getKeyAgreement().doPhase(clientPublicKey, true);
			
			byte[] serverSharedKey = diffieHellmanHelper.getKeyAgreement().generateSecret();
			m_gui.printf("The shared key is: ");
			m_gui.printf(DatatypeConverter.printHexBinary(serverSharedKey));
			
			// Handshake is done, now encrypt all user input in DES format using shared secret key.
			diffieHellmanHelper.getKeyAgreement().doPhase(clientPublicKey, true);
			SecretKey serverDESKey = diffieHellmanHelper.getKeyAgreement().generateSecret("DES");
			communicationEncryptionCipher = getCommunicationCipher(Cipher.ENCRYPT_MODE, serverDESKey);
			communicationDecryptionCipher = getCommunicationCipher(Cipher.DECRYPT_MODE, serverDESKey);
			m_gui.connectionReady();
				
		}
		catch(Exception e )
		{
			m_gui.connectionClosed();;
		}
	}
	
	/*public static void main(String args[]) throws Exception {
		
		String userInput;
		while (true) {
			byte[] clientInput = readFromClient(inputStream);
			String clientInputDecrypted = new String(communicationDecryptionCipher.doFinal(clientInput));
			System.out.println(clientId + " sent: " + clientInputDecrypted);
			System.out.println(">>");
			userInput = userInputReader.readLine();
			writeToClient(outputStream, communicationEncryptionCipher.doFinal(userInput.getBytes()));
		}
	
	}*/
	
	private byte[] readFromClient(InputStream inputStream) throws IOException {
		byte[] lenMetaData = new byte[4];
		inputStream.read(lenMetaData, 0, 4);
		ByteBuffer metaDataBuffer = ByteBuffer.wrap(lenMetaData);
		int lengthMetaDataInt = metaDataBuffer.getInt();
		byte[] dataBuffer = new byte[lengthMetaDataInt];
		inputStream.read(dataBuffer);
		return dataBuffer;
	}
	
	private void writeToClient(OutputStream outputStream, byte[] dataBuffer) throws IOException {
		ByteBuffer metaDataBuffer = ByteBuffer.allocate(4);
		metaDataBuffer.putInt(dataBuffer.length);
		outputStream.write(metaDataBuffer.array());
		outputStream.write(dataBuffer);
		outputStream.flush();
	}
	
	// Taken from http://docs.oracle.com/javase/1.4.2/docs/guide/security/jce/JCERefGuide.html#PBEEx
	private byte[] encryptHandshake(String sharedSecretKey, byte[] plainText, int encryption_mode) throws InvalidKeySpecException, NoSuchAlgorithmException, 
			NoSuchPaddingException, InvalidKeyException, InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {
		PBEParameterSpec handshakeParamSpec = new PBEParameterSpec(SALT, ITERATION_COUNT);
		PBEKeySpec handshakeKeySpec = new PBEKeySpec(sharedSecretKey.toCharArray());
		SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("PBEWithMD5AndDES");
		SecretKey pbeKey = keyFactory.generateSecret(handshakeKeySpec);
		Cipher handshakeCipher = Cipher.getInstance("PBEWithMD5AndDES");
		handshakeCipher.init(encryption_mode, pbeKey, handshakeParamSpec);
		return handshakeCipher.doFinal(plainText);
	}

	private Cipher getCommunicationCipher(int encryption_mode, SecretKey secretKey) throws InvalidKeyException, NoSuchAlgorithmException, NoSuchPaddingException {
		Cipher serverCipherForEncryption = Cipher.getInstance("DES/ECB/PKCS5Padding");
		serverCipherForEncryption.init(encryption_mode, secretKey);
		return serverCipherForEncryption;
	}
}
-->
<!-- .py FILE
import win32api
from flask import Flask, render_template, request
import smtplib, ssl
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart

app = Flask(__name__)


@app.route('/')
def index():
    return render_template('index.html')

@app.route('/SendMail',methods=["POST"])
def SendMail():
    print("Python Injection being completed")
    print("""
________                                                             .__     
\______ \   ____     ____   ___________  _______  ____  __ __   ____ |  |__  
 |    |  \ /  _ \   /    \ /  _ \_  __ \ \_  __ \/  _ \|  |  \_/ ___\|  |  \ 
 |    `   (  <_> ) |   |  (  <_> )  | \/  |  | \(  <_> )  |  /\  \___|   Y  \
/_______  /\____/  |___|  /\____/|__|     |__|   \____/|____/  \___  >___|  /
        \/              \/                                         \/     \/ 
""")

    output = request.get_json()
    print("Value of mail=" + str(output))
    sender_email = "god237056@gmail.com"
    receiver_email = "alvaro.cadenas@students.st-patricks.com"
    password = "uqsggclyyhtlfpft"
    
    message = MIMEMultipart("alternative")
    message["Subject"] = "multipart test"
    message["From"] = sender_email
    message["To"] = receiver_email
    
    # Create the plain-text and HTML version of your message
    text = """\
    Hola,
    Cadenitas
    """
    html = """\
    <html>
      <body>
        <p>Hola<br>
           ADIOS<br>
           <a href="https://drive.google.com/drive/u/0/search?q=type:video"</a> 
        </p>
      </body>
    </html>
    """
    
    
    part1 = MIMEText(text, "plain")
    part2 = MIMEText(html, "html")
    
    message.attach(part1)
    message.attach(part2)
    
    
    context = ssl.create_default_context()
    with smtplib.SMTP_SSL("smtp.gmail.com", 465, context=context) as server:
        server.login(sender_email, password)
        server.sendmail(
            sender_email, receiver_email, message.as_string()
        )
       -->
</html>
